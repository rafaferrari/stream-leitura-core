apply plugin: 'java'

sourceCompatibility = '1.8'
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

jar {
    manifest {
        attributes "Implementation-Title": "Stream Leitura Core"
        attributes "Implementation-Version": "1.0.0"
        attributes "Main-Class" : "com.stream_processor_core.CommandLineProcessor"
    }
    doFirst {
        from (configurations.runtime.resolve().collect { it.isDirectory() ? it : zipTree(it) }) {
            include 'com/stream_processor_core/'
            exclude 'META-INF/'
        }
    }
}

repositories {
    mavenCentral()
}

dependencies {
    testCompile("junit:junit:4.10")
}
